## LLM Application Development

大模型应用开发的核心是构建智能体 (agent)，其关键特征在于能够动态地决定如何调用其他服务来完成任务。

## 为什么智能体在当今如此重要

智能体之所以重要，是因为它改变了大型语言模型（LLM）的架构定位。目前的大型语言模型主要用作人机交互界面，即人与模型之间通过自然语言进行交流，由人提出问题，模型给出回答。而智能体则要求大型语言模型**不仅要作为人机交互界面，还要成为程序与程序之间的接口**。

以下是智能体重要性的具体体现：

- **从人机交互到程序间交互**：智能体推动大型语言模型从仅能与人交互的工具转变为可以被其他程序调用的产品。这种转变使得大型语言模型可以互相调用，大大提升了其应用程度.
- **改变大语言模型的架构定位**：智能体改变了目前大语言模型作为人机交互界面的使用方式，使得大型语言模型不仅可以被人使用，也可以被其他程序调用。
- **可做的事情更多**：通过程序之间的互相调用，智能体使得大型语言模型可以完成更多的事情。
- **动态决策能力**: 智能体可以动态决定如何调用其他服务来完成任务，而不仅仅是按照预设的工作流程执行 。
- **智能体是具有可调用函数和工具的AI**: 与workflow不同，智能体可以根据需要，由AI本身来决定如何调用和串联这些函数和工具.
- **标准化能力**：为了实现智能体架构，大型语言模型需要具备一些标准化的能力，例如函数调用（tools calling）和结构化输出。
  - **函数调用 (tools calling)**: 允许LLM调用外部程序或API来获取信息或执行操作，例如获取天气预报或股票信息。
  - **结构化输出**: 使LLM的输出不仅限于自然语言，而是可以输出结构化的数据，例如JSON对象，便于程序之间进行数据交换和使用。
- **推理能力**： 智能体需要具备推理能力，可以将复杂问题分解为多个子任务，并使用不同的模型或工具来完成这些子任务。
- **智能体是未来AI应用开发的重要方向**: 智能体是目前大模型应用开发中非常重要的一个方向。

总而言之，智能体的核心价值在于它使得大型语言模型从简单的对话工具转变为可以与其他程序交互、执行复杂任务的智能代理。这种转变为大型语言模型的应用带来了更广阔的前景。

## Phidata 智能体框架介绍

PHIDATA 是一个**开源的智能体（agent）开发框架**。它旨在帮助开发者更容易地构建和部署智能体应用。根据来源中的描述，PHIDATA 有以下几个突出的优点：

- **平台中立**：PHIDATA **不依赖于任何特定的大型语言模型（LLM）或供应商**。这意味着开发者可以使用不同的模型，如本地模型（例如，通过 Ollama）或者各种 web API，而无需受限于某个特定的平台或服务。这种灵活性让开发者可以根据自己的需求选择最合适的模型，避免了被特定厂商绑定的风险.
- **开发活跃**：PHIDATA 的开发社区非常活跃，问题修复速度快。例如，当发现一个低级的代码 bug 并提交 issue 后，开发团队在 12 小时内就给出了回复，并在 48 小时内发布了修复版本。这种快速响应和积极维护对于一个开源项目来说至关重要，可以确保框架的稳定性和可靠性.
- **设计简洁**：PHIDATA 在设计上非常简洁，它整合了一些非常有用的功能，但同时又将很多技术细节隐藏起来。这使得它**非常适合入门者学习**，或者那些没有很深入的 LLM 技术背景的团队去尝试。这种简洁的设计降低了学习和使用的门槛，使得更多人可以参与到智能体的开发中来.
- **功能强大**: PHIDATA 整合了一些非常有用的功能.
- **优于上一代框架**: PHIDATA 比上一代的类似框架（如 LangChain 和 LangGraph）要强大得多.

总而言之，PHIDATA 是一个**平台中立、开发活跃、设计简洁且功能强大**的智能体开发框架。它的这些优点使得它成为一个值得推荐的工具，尤其是对于那些希望快速入门或不希望受限于特定平台的开发者来说。

## SmartAgent介绍

**Smart Prompt** 的概念指的是使用各种**优质的提示词**（prompts），这些提示词具有一定的**可编程性**，可以是**带参数的**，或者提示词的模板本身可以是一种**领域特定语言（DSL）**。 换句话说，Smart Prompt 不仅仅是简单的自然语言提示，而是一种**更加灵活和强大的提示方式**，它可以通过参数、模板等机制来适应不同的场景和需求。

**Smart Prompt 的核心思想是利用提示词来调用平台无关的大型语言模型**。 它的目标是通过**精心设计的提示词**，使得大型语言模型能够更准确、高效地完成特定任务。

**Smart Prompt 的体系结构**： 根据资料，Smart Prompt 似乎是智能体（agent）架构中的一个组成部分，可以看作是构建智能体的一个基础层。在智能体的构建过程中，Smart Prompt 通常处于第一层，它主要负责与大型语言模型进行交互。

- **第一层：Smart Prompt**。 这一层的主要功能是使用各种智能提示词（smart prompts）来调用平台无关的大型语言模型。这些提示词可以包括：

  - **各种好的提示词**：包括针对特定任务优化过的提示词。
  - **可编程的提示词**： 可以根据需要动态生成或修改的提示词。
  - **带参数的提示词**： 允许在提示词中包含变量，以便在不同场景下复用。
  - **提示词模板为 DSL**：使用领域特定语言（DSL）定义的提示词模板，可以更精确地控制模型的行为。

  这一层的主要目标是通过提示词与大语言模型进行交互，获得初步的响应。这一层主要关注如何更有效地利用大语言模型的能力，使得模型能够输出符合预期的结果.

- **第二层：Smart Agent**。 在 Smart Prompt 的基础上，构建 Smart Agent。这一层的功能更加复杂，它不仅要与大型语言模型交互，还需要与各种外部数据源交互，包括数据库、互联网信息、本地文件等。

  - 与大语言模型沟通：与第一层类似，使用smart prompt 与大模型进行交互。
  - 与外部数据源沟通：与数据库、互联网、本地文件等进行交互，以获取完成任务所需的信息.
  - **自然语言IO**: 通过自然语言进行输入输出，实现与各种数据源的交互.

  这一层的主要目标是通过与各种数据源的交互，扩展智能体的能力，使其能够完成更加复杂、多样化的任务。

- **第三层：功能编排**。在 Smart Agent 的基础上，对各种功能点进行编排，包括串行、并行、自调优、质量测试评估等。

  - **功能点编排**: 将各种IO (输入输出) 功能串联或并行起来.
  - **自调优**: 智能体能够自我调整优化.
  - **质量测试评估**: 智能体能够自我进行质量测试评估. 这一层的主要目标是将 Smart Agent 的各种能力组合起来，形成一个能够完成复杂任务的智能系统。

**Smart Prompt 的目标**：

- **提高大型语言模型的利用效率**: 通过更灵活、更强大的提示词，可以更有效地利用大语言模型的能力，使得模型能够输出更准确、更符合预期的结果.
- **构建更智能的应用**: Smart Prompt 是构建 Smart Agent 的基础，通过 Smart Prompt 可以构建与各种数据源交互的智能体应用.
- **实现平台无关**: Smart Prompt 的一个重要目标是实现平台无关，即可以使用相同的提示词来调用不同的平台上的大语言模型.
- **促进提示词工程的发展**: Smart Prompt 推动了提示词工程的发展，使得提示词的设计和使用更加科学化、系统化.

**总结**： Smart Prompt 是一种基于提示词的、灵活的、平台无关的大语言模型调用方式。它的体系结构是分层的，主要目的是通过不同层次的抽象和功能组合，构建更智能的 AI 应用。它的目标是提高大模型的利用效率，扩展大模型的能力，实现平台无关，并推动提示词工程的发展。

## 当今Agent主流方向是什么

目前Agent的主流发展方向可以总结为以下几个方面，这些方向旨在提升大型语言模型（LLM）的能力，使其不仅能进行人机交互，还能在程序之间进行更有效的互动。

- **核心目标：将LLM从聊天机器人转变为程序间的服务接口**。当前的大型语言模型主要被用作人机交互界面。为了让它们更有用，需要让LLM支持与其他程序互动的模式。这意味着LLM不仅能被人使用，还能被其他程序调用，甚至程序之间可以互相调用，从而大大提升LLM的应用程度。

- Agent 的关键能力

  : 为了实现这一目标，LLM需要具备一些特定的、标准化的能力。目前被总结出来最重要的两个标准化能力是：

  - **函数调用 (Tools Calling)**：也称为工具调用，指的是让LLM具备调用外部程序或API的能力。这使得LLM可以获取实时信息（例如，天气预报、股票信息）或执行特定操作。
  - **结构化输出 (Structured Output)**：LLM需要能够输出结构化的数据，例如JSON对象，而不是简单的自然语言。这样可以方便程序之间的数据交换和使用。

- 推理 (Reasoning)

  : 除了上述两个核心能力，推理能力也是一个重要的发展方向。它指的是让LLM能够根据问题自动构建推理流程，将复杂问题分解为多个子任务，并使用不同的模型或工具来完成这些子任务。这一过程通常会涉及到:

  - **智能提示词 (Smart Prompt)**:  使用各种好的提示词，可编程的提示词，带参数的提示词或提示词模板作为DSL，去调用平台无关的大语言模型。
  - **子任务分解**:  将复杂问题分解为可以直接用LLM回答或需要调用外部工具才能完成的子任务。
  - **任务编排**: 按照一定的逻辑顺序或并行的方式执行这些子任务。

- 应用开发方向

  ：

  - **更好的内容整合**: 将不同来源的信息整合起来，为用户提供更全面的信息。
  - **自动化推理**:  使智能体能够自动构建推理流程，将复杂问题分解为子任务。
  - **Smart Prompt 的应用**: 利用各种智能提示词，以及可编程的提示词去调用大模型，实现平台无关。

- 面临的挑战

  ：

  - **大模型的标准化问题**: 目前各AI厂商的大模型标准不统一，导致开发框架需要做大量的兼容工作。各家厂商都在试图建立自己的标准，互相竞争，导致出现重复和不兼容的情况。
  - **性能与小型化**: 大模型的推理性能和效率仍需提高，尤其是在将任务分解为多个子任务时，运行时间会指数级上升。因此，需要开发更小、更高效的模型来进行推理。
  - **安全问题**: 随着可扩展的应用接口越来越多，智能体的安全问题将日益突出。需要考虑如何处理有安全隐患或需要权限控制的数据。

总的来说，目前Agent的发展方向非常明确，即让LLM不仅能进行人机交互，还能作为程序之间的接口，具备函数调用、结构化输出和推理等能力，从而完成更复杂的任务。尽管目前还存在一些挑战，如标准化、性能和安全等问题，但技术的发展前景广阔，值得持续关注。



## 大模型应用开发相关概念总结及逻辑关系

**大模型应用开发的核心目标是构建能够自主解决复杂任务的智能体（Agent）。**  为了实现这一目标，需要理解和应用以下关键概念：

**1.  基础概念：**

- **大模型（Large Language Model，LLM）:**  大模型是智能体的基石，它具备强大的语言理解和生成能力，能够处理海量数据并从中学习。
- **提示词（Prompt）:**  提示词是与大模型交互的指令，引导模型理解任务目标并生成期望的输出。

**2.  智能体构建：**

- **智能体（Agent）：**  智能体是能够自主理解、规划和执行任务的系统。它可以根据用户的需求，动态地选择和调用不同的服务来完成任务。
- **智能体开发框架：**  例如 PhiData，可以帮助开发者更高效地构建智能体，提供标准化的流程和工具。

**3.  功能增强：**

- **多模态应用：**  未来的智能体将能够处理文本、图像、语音等多种模态的信息，实现更丰富的交互和更强大的功能。
- **互操作性：**  智能体可以与其他程序相互调用，实现功能组合和扩展，构建更复杂的应用场景。

**4.  对比概念：**

- **工作流（Workflow）/自动化（Automation）：**  工作流或自动化是由人预先定义好一系列步骤，按照固定的顺序执行来完成任务，缺乏智能体自主决策的能力。

**5.  挑战与问题：**

- **大模型的能力提升：**  需要不断提升大模型的推理、规划和学习能力，以支持更复杂的智能体应用。
- **标准化问题：**  需要制定和推广大模型的标准化接口和协议，以促进不同大模型之间的互操作性。
- **数据安全和隐私问题：**  需要保障智能体应用中的数据安全和用户隐私。

**逻辑关系串联：**

**大模型 + 提示词  —> 智能体  —>  多模态应用 & 互操作性**

- **大模型是构建智能体的基础，提示词引导大模型完成特定任务。**
- **智能体是应用开发的目标，多模态应用和互操作性是增强智能体功能的途径。**

**智能体 >>  工作流/自动化**

- **智能体比工作流/自动化更加智能，能够自主决策和执行任务。**

**挑战和问题 是 大模型应用开发 持续发展 需要解决的 关键**

- **大模型的能力提升、标准化问题、数据安全和隐私问题是制约大模型应用开发的关键挑战。**

**总结：**  大模型应用开发是一个充满潜力的领域，通过构建自主决策的智能体，并结合多模态应用和互操作性，可以实现更强大的功能和更丰富的应用场景。 同时，需要解决大模型的能力提升、标准化问题和数据安全等挑战，推动大模型应用的持续发展。

## Agent 的核心能力

智能体最强大的两个能力是：

- **自主决策能力**: 智能体能够根据环境和任务的变化动态地做出决策，而不是像传统工作流那样只能按照预先设定的步骤执行。 这种能力使得智能体能够解决更复杂、更灵活的任务，例如在 中提到的，AI可以决定调用哪些agent来完成子任务，最终完成一个更大的任务。 这就要求智能体具备一定的推理、规划和学习能力，例如 中描述的，智能体可以分析股票信息、搜索公司新闻，最终给出投资建议。
- **函数调用能力**: 智能体能够调用外部的函数或 API 来获取信息或执行特定操作，例如 提到的调用 yahoo finance 获取股票信息，或调用 Google 搜索公司新闻。 这使得智能体能够连接到更广阔的世界，获取更丰富的资源，从而实现更强大的功能。 例如 中提到的，智能体可以调用天气预报 API 获取天气信息，或者调用搜索引擎 API 获取搜索结果。

这两个能力相辅相成，共同赋予了智能体强大的解决问题的能力，使其能够在各种复杂场景中发挥作用。

## FAQ

1. 根据 Anthropic 的定义，工作流（workflow）和智能体（agent）的主要区别是什么？



## Golossary

- **智能体 (Agent):**  智能体是大模型应用开发的核心。它能够理解用户的意图，并根据用户的需求，动态地选择和调用不同的服务来完成任务。  智能体的能力远超由人预先设定好调用顺序的工作流 (workflow) 或自动化 (automation)。
- **工作流 (Workflow) / 自动化 (Automation):** 工作流或自动化是指由人预先定义好一系列步骤，然后按照固定的顺序执行这些步骤来完成任务。
- **标准化：** 大模型的能力需要标准化，以提供可编程能力，方便开发者调用。 目前国内大厂在标准化方面做的还不够。
- **智能体开发框架：** 一些开源的智能体开发框架，例如 PhiData，可以帮助开发者更方便地构建智能体。
- **多模态应用：**  未来的智能体将能够处理多种模态的信息，例如文本、图像、语音等，并根据不同模态的信息进行推理和决策。
- **互操作性：**  智能体可以被其他程序调用，也可以互相调用，这将大大提升大模型应用的灵活性和可扩展性。

**此外，大模型应用开发还面临着一些挑战：**

- **大模型的能力提升：**  需要进一步提升大模型的推理、规划和学习能力，以支持更复杂的智能体应用。
- **标准化问题：**  需要制定和推广大模型的标准化接口和协议，以促进不同大模型之间的互操作性。
- **数据安全和隐私问题：**  如何保障智能体应用中的数据安全和用户隐私，也是一个需要重视的问题。